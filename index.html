<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>íˆì¹ ì˜¤ëŠ˜ì˜ í–‰ìš´</title>
  <meta name="theme-color" content="#ff7a18" />
  <style>
    :root{
      --bg1:#eef1f6;
      --bg2:#cfd6e2;
      --card:rgba(255,255,255,.62);
      --text:#0b1220;
      --muted:rgba(15,23,42,.68);

      --brand:#ff7a18;
      --brandRgb:255,122,24;

      --shadow: 0 18px 55px rgba(15,23,42,.18);
      --radius:22px;
    }
    *{ box-sizing:border-box; }
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Apple SD Gothic Neo", "Noto Sans KR", Arial, sans-serif;
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:14px;
      color:var(--text);
      background:
        radial-gradient(1200px 700px at 15% 0%, rgba(var(--brandRgb),.18), transparent 55%),
        radial-gradient(900px 650px at 110% 5%, rgba(0,0,0,.08), transparent 55%),
        radial-gradient(900px 700px at 50% 115%, rgba(255,255,255,.65), transparent 55%),
        linear-gradient(135deg, var(--bg1), var(--bg2));
    }
    .wrap{ width:min(560px, 100%); }

    .top{
      display:flex; align-items:center; justify-content:space-between;
      gap:10px; margin-bottom:10px; flex-wrap:wrap;
    }
    .brand{ display:flex; align-items:center; gap:10px; min-width:0; flex: 1 1 240px; }
    .logo{
      width:42px;height:42px;border-radius:16px;
      background: linear-gradient(135deg, var(--brand), rgba(255,200,140,1));
      box-shadow: 0 14px 30px rgba(var(--brandRgb),.22);
      display:grid; place-items:center;
      color:#111; font-weight:1000; letter-spacing:.5px;
      flex:0 0 auto;
    }
    .brand h1{
      font-size:15px; margin:0; letter-spacing:-.25px; line-height:1.2;
      white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
    }
    .brand p{
      margin:2px 0 0; font-size:12px; color:rgba(15,23,42,.62);
      white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
    }
    .pill{
      font-size:11px; color:rgba(0,0,0,.88);
      background: var(--brand);
      padding:7px 10px; border-radius:999px;
      font-weight:1000; letter-spacing:-.2px;
      box-shadow: 0 14px 30px rgba(var(--brandRgb),.18);
      white-space:nowrap; flex:0 0 auto; margin-left:auto;
    }

    .card{
      border:1px solid rgba(255,255,255,.55);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow:hidden;
      background: var(--card);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
    }
    .hero{
      padding:14px 16px 10px;
      border-bottom:1px solid rgba(15,23,42,.10);
      display:flex; flex-direction:column; gap:6px;
    }
    .date{ font-size:12px; color:rgba(15,23,42,.62); font-weight:800; }
    .title{ font-size:16px; font-weight:1000; margin:0; letter-spacing:-.35px; line-height:1.25; }

    .content{
      padding:14px 16px 14px;
      display:flex; flex-direction:column; gap:12px;
    }

    .fortuneBox{
      border:1px solid rgba(var(--brandRgb),.30);
      background: linear-gradient(180deg, rgba(var(--brandRgb),.10), rgba(255,255,255,.42));
      border-radius: 18px;
      padding:16px 14px;
    }
    .fortuneType{
      display:inline-flex; align-items:center; gap:8px;
      font-size:12px; font-weight:1000;
      color: var(--brand);
      margin-bottom:10px; letter-spacing:-.2px;
    }
    .dot{
      width:9px;height:9px;border-radius:999px;
      background: var(--brand);
      box-shadow: 0 0 0 5px rgba(var(--brandRgb),.16);
    }
    .fortuneText{
      font-size:20px;
      font-weight:1000;
      letter-spacing:-.45px;
      line-height:1.35;
      margin:0;
      word-break:keep-all;
    }
    .fortuneDesc{
      margin:10px 0 0;
      font-size:13px;
      color: rgba(15,23,42,.84);
      line-height:1.6;
      font-weight:650;
    }

    .actions{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      margin-top:2px;
    }

    button, a.btn{
      appearance:none;
      border:1px solid rgba(15,23,42,.12);
      background: rgba(255,255,255,.58);
      color: var(--text);
      padding:12px 12px;
      border-radius: 14px;
      font-weight:1000;
      letter-spacing:-.2px;
      cursor:pointer;
      text-decoration:none;
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:8px;
      flex:1 1 200px;
      transition: transform .08s ease, border-color .12s ease, background .12s ease, box-shadow .12s ease;
    }

    button:hover, a.btn:hover{
      transform: translateY(-1px);
      border-color: rgba(var(--brandRgb),.40);
      box-shadow: 0 14px 28px rgba(15,23,42,.10);
      background: rgba(255,255,255,.76);
    }

    button.primary{
      border-color: rgba(var(--brandRgb),.55);
      background: linear-gradient(180deg, rgba(var(--brandRgb),.20), rgba(255,255,255,.60));
    }

    .toast{
      position:fixed;
      left:50%;
      bottom:18px;
      transform: translateX(-50%);
      background: rgba(255,255,255,.92);
      border:1px solid rgba(15,23,42,.14);
      box-shadow: 0 18px 45px rgba(15,23,42,.18);
      border-radius: 999px;
      padding:10px 14px;
      font-size:12px;
      color: var(--text);
      opacity:0;
      pointer-events:none;
      transition: opacity .18s ease, transform .18s ease;
      font-weight:900;
      z-index:50;
    }
    .toast.on{
      opacity:1;
      transform: translateX(-50%) translateY(-4px);
    }

    /* -------- ì¿ í° ëª¨ë‹¬ -------- */
    .modal{
      position:fixed; inset:0;
      display:none;
      align-items:center;
      justify-content:center;
      padding:16px;
      background: rgba(15,23,42,.35);
      z-index:100;
    }
    .modal.on{ display:flex; }
    .modalCard{
      width:min(520px, 100%);
      border-radius: 18px;
      background: rgba(255,255,255,.90);
      border:1px solid rgba(15,23,42,.14);
      box-shadow: 0 22px 65px rgba(15,23,42,.25);
      overflow:hidden;
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
    }
    .modalHead{
      padding:14px 14px 10px;
      display:flex; align-items:center; justify-content:space-between; gap:10px;
      border-bottom:1px solid rgba(15,23,42,.10);
    }
    .modalTitle{
      margin:0;
      font-size:14px;
      font-weight:1000;
      letter-spacing:-.25px;
    }
    .xBtn{
      width:36px; height:36px;
      border-radius: 12px;
      border:1px solid rgba(15,23,42,.12);
      background: rgba(255,255,255,.65);
      cursor:pointer;
      font-weight:1000;
    }
    .modalBody{
      padding:14px;
      display:flex; flex-direction:column; gap:10px;
    }
    .couponBox{
      border:1px dashed rgba(var(--brandRgb),.55);
      background: linear-gradient(180deg, rgba(var(--brandRgb),.10), rgba(255,255,255,.75));
      border-radius: 16px;
      padding:14px 12px;
    }
    .couponBadge{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:6px;
      padding:6px 10px;
      border-radius:999px;
      background: rgba(var(--brandRgb),.14);
      border:1px solid rgba(var(--brandRgb),.22);
      font-weight:1000;
      font-size:12px;
      letter-spacing:-.2px;
      width:fit-content;
      margin:0 auto 10px auto;
    }
    .couponPrize{
      margin:0;
      font-size:18px;
      font-weight:1100;
      letter-spacing:-.25px;
      text-align:center;
      line-height:1.25;
    }
    .couponCode{
      margin:10px 0 0;
      font-size:22px;
      font-weight:1100;
      letter-spacing:1px;
      text-align:center;
    }
    .couponMeta{
      margin:8px 0 0;
      font-size:12px;
      color: rgba(15,23,42,.70);
      line-height:1.5;
      font-weight:700;
      text-align:center;
    }
    .modalActions{
      display:flex; gap:10px; flex-wrap:wrap;
      margin-top:2px;
    }

    @media (max-width:420px){
      body{ padding:12px; }
      .top{ margin-bottom:8px; }
      .pill{ width:100%; text-align:right; padding:6px 10px; font-size:11px; border-radius:14px; }
      .hero{ padding:12px 14px 9px; }
      .content{ padding:12px 14px 12px; gap:10px; }
      .fortuneBox{ padding:14px 12px; }
      .fortuneText{ font-size:19px; }
      button, a.btn{ flex:1 1 100%; padding:11px 12px; }
    }
  </style>
</head>

<body>
  <div class="wrap">
    <div class="top">
      <div class="brand">
        <div class="logo">H</div>
        <div>
          <h1>íˆì¹ Â· ì˜¤ëŠ˜ì˜ í–‰ìš´</h1>
          <p>í•˜ë£¨ê°€ íŠ¹ë³„í•´ì§€ëŠ” í•œ ë¬¸ì¥â™¡</p>
        </div>
      </div>
      <div class="pill" id="todayPill">Today</div>
    </div>

    <div class="card">
      <div class="hero">
        <div class="date" id="dateLine"></div>
        <p class="title">ì˜¤ëŠ˜ ë‹¹ì‹ ì—ê²Œ ë”± ë§ëŠ” í•œ ì¤„ âœ¨</p>
      </div>

      <div class="content">
        <div class="fortuneBox">
          <div class="fortuneType"><span class="dot"></span><span id="fortuneTag">í–‰ìš´ ë©”ì‹œì§€</span></div>
          <p class="fortuneText" id="fortuneText">ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘â€¦</p>
          <p class="fortuneDesc" id="fortuneDesc"></p>
        </div>

        <div class="actions">
          <button class="primary" id="newBtn" type="button">ğŸ”„ ìƒˆ ìš´ì„¸ ë½‘ê¸°</button>
          <button id="couponBtn" type="button">ğŸ íˆì¹ í–‰ìš´ ì¿ í° (í‰ìƒ 1íšŒ)</button>
          <a class="btn"
             href="https://www.instagram.com/h_ssup_/"
             target="_blank"
             rel="noopener noreferrer">
             ğŸ“… ì˜ˆì•½í•˜ê¸° (Instagram)
          </a>
        </div>
      </div>
    </div>
  </div>

  <div class="toast" id="toast">ì™„ë£Œ!</div>

  <!-- ì¿ í° ëª¨ë‹¬ -->
  <div class="modal" id="couponModal" aria-hidden="true">
    <div class="modalCard" role="dialog" aria-modal="true" aria-labelledby="couponTitle">
      <div class="modalHead">
        <p class="modalTitle" id="couponTitle">íˆì¹ ìŠ¤í˜ì…œ ì¿ í°</p>
        <button class="xBtn" id="closeModalBtn" type="button">âœ•</button>
      </div>
      <div class="modalBody">
        <div class="couponBox">
          <div class="couponBadge" id="couponBadge">ğŸ² 1íšŒ ë½‘ê¸°</div>
          <p class="couponPrize" id="couponPrize">â€”</p>
          <p class="couponCode" id="couponCode">â€”</p>
          <p class="couponMeta" id="couponMeta">â€”</p>
        </div>

        <div class="modalActions">
          <button class="primary" id="revealBtn" type="button">ğŸ² ì§€ê¸ˆ ë½‘ê¸°</button>
          <button id="copyCouponBtn" type="button">ğŸ“‹ ì¿ í°ì½”ë“œ ë³µì‚¬</button>
          <button id="okBtn" type="button">í™•ì¸</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    // ------------------ ìš´ì„¸ ë¬¸êµ¬ ------------------
const FORTUNES = [
  { text:"ì˜¤ëŠ˜ì€ ì¸ìƒì´ ë°”ë€ŒëŠ” ë‚ ì´ì—ìš”.", desc:"ëˆˆì¹ ê²° í•˜ë‚˜ë§Œ ì •ë¦¬í•´ë„ ë¶„ìœ„ê¸°ê°€ ë‹¬ë¼ì ¸ìš”.", tag:"íˆì¹ ì´ë¯¸ì§€ìš´" },
  { text:"ì˜¤ëŠ˜ì€ ê´œíˆ ë” ë˜ë ·í•´ ë³´ì´ëŠ” ë‚ .", desc:"ë””í…Œì¼ì´ ë‹¹ì‹ ì„ ì •ëˆëœ ì‚¬ëŒìœ¼ë¡œ ë§Œë“­ë‹ˆë‹¤.", tag:"ì´ë¯¸ì§€ ìƒìŠ¹ìš´" },
  { text:"ê±°ìš¸ì„ í•œ ë²ˆ ë” ë³´ê²Œ ë˜ëŠ” í•˜ë£¨.", desc:"ì€ì€í•˜ê²Œ ìì‹ ê°ì´ ì˜¬ë¼ê°€ëŠ” ë‚ ì´ì—ìš”.", tag:"ìì‹ ê° ìš´" },
  { text:"ì˜¤ëŠ˜ì€ â€˜ê´€ë¦¬ ì˜ ë°›ì•˜ë„¤?â€™ë¼ëŠ” ë§ì„ ë“¤ì„ ìš´.", desc:"í‹° ë‚˜ì§€ ì•Šì§€ë§Œ í™•ì‹¤í•œ ë³€í™”.", tag:"íˆì¹ ì´ë¯¸ì§€ìš´" },
  { text:"ì§€ê¸ˆ ì†ëŒ€ë©´ ë¶„ìœ„ê¸°ê°€ ë‹¬ë¼ì§‘ë‹ˆë‹¤.", desc:"ì˜¤ëŠ˜ì€ ì´ë¯¸ì§€ ë¦¬ë””ìì¸ íƒ€ì´ë°.", tag:"ì´ë¯¸ì§€ ìƒìŠ¹ìš´" },
  { text:"ì˜¤ëŠ˜ì€ ë‹¹ì‹ ì´ ì¤‘ì‹¬ì´ ë˜ëŠ” ë‚ .", desc:"ë§í•˜ì§€ ì•Šì•„ë„ ì‹œì„ ì´ ë¨¸ë¬´ëŠ” í•˜ë£¨.", tag:"ìì‹ ê° ìš´" },
  { text:"ëˆˆì¹ ë¼ì¸ì´ ë³µì„ ë¶€ë¥´ëŠ” ë‚ .", desc:"ì •ëˆëœ ë¼ì¸ì´ ì‹ ë¢°ë¥¼ ë§Œë“­ë‹ˆë‹¤.", tag:"íˆì¹ ì´ë¯¸ì§€ìš´" },
  { text:"ì˜¤ëŠ˜ì€ ì‚¬ì§„ì´ ì˜ ë‚˜ì˜¤ëŠ” ë‚ .", desc:"ìì—°ìŠ¤ëŸ¬ìš´ ë¸Œë¼ìš´ í†¤ì´ í–‰ìš´ ì»¬ëŸ¬.", tag:"ì´ë¯¸ì§€ ìƒìŠ¹ìš´" },
  { text:"ì¡°ìš©íˆ ë§¤ë ¥ì§€ìˆ˜ê°€ ìƒìŠ¹í•˜ëŠ” í•˜ë£¨.", desc:"ì‘ì€ ë³€í™”ê°€ í° ì°¨ì´ë¥¼ ë§Œë“¤ì–´ìš”.", tag:"ìì‹ ê° ìš´" },
  { text:"ì˜¤ëŠ˜ì€ ë¶„ìœ„ê¸°ê°€ í•œ ë‹¨ê³„ ì˜¬ë¼ê°€ëŠ” ë‚ .", desc:"ë””í…Œì¼ì´ ì¸ìƒì„ ë°”ê¿‰ë‹ˆë‹¤.", tag:"íˆì¹ ì´ë¯¸ì§€ìš´" },

  { text:"ì˜¤ëŠ˜ì€ ë˜ë ·í•¨ì´ ë¬´ê¸°ê°€ ë˜ëŠ” ë‚ .", desc:"ëˆˆì¹ ì •ë¦¬ê°€ ì„¤ë“ë ¥ì„ ë”í•´ìš”.", tag:"ì´ë¯¸ì§€ ìƒìŠ¹ìš´" },
  { text:"ê´œíˆ ìì‹ ê°ì´ ë¶™ëŠ” í•˜ë£¨.", desc:"ì •ëˆëœ ì¸ìƒì´ ì—ë„ˆì§€ë¥¼ ë§Œë“­ë‹ˆë‹¤.", tag:"ìì‹ ê° ìš´" },
  { text:"ì˜¤ëŠ˜ì€ ë‹¨ì •í•¨ì´ ë¹›ë‚˜ëŠ” ë‚ .", desc:"ì”í„¸ ì •ë¦¬ë§Œìœ¼ë¡œë„ ë¶„ìœ„ê¸°ê°€ ë‹¬ë¼ì ¸ìš”.", tag:"íˆì¹ ì´ë¯¸ì§€ìš´" },
  { text:"ì˜¤ëŠ˜ì€ â€˜ì˜ˆë»ì¡Œì–´?â€™ë¼ëŠ” ë§ì„ ë“¤ì„ í™•ë¥  ë†’ìŒ.", desc:"ì€ê·¼í•˜ì§€ë§Œ í™•ì‹¤í•œ ë³€í™”.", tag:"ì´ë¯¸ì§€ ìƒìŠ¹ìš´" },
  { text:"ì§€ê¸ˆì˜ ë‹¹ì‹ , ì¶©ë¶„íˆ ë§¤ë ¥ì ì…ë‹ˆë‹¤.", desc:"ê·¸ë¦¬ê³  ì˜¤ëŠ˜ì€ ê·¸ê²Œ ë” ë˜ë ·í•´ì ¸ìš”.", tag:"ìì‹ ê° ìš´" },
  { text:"ì˜¤ëŠ˜ì€ ë¶€ë“œëŸ¬ìš´ ì¹´ë¦¬ìŠ¤ë§ˆ ìš´.", desc:"ë¼ì¸ì´ ì •ë¦¬ë˜ë©´ ì¸ìƒë„ ì •ë¦¬ë©ë‹ˆë‹¤.", tag:"íˆì¹ ì´ë¯¸ì§€ìš´" },
  { text:"ì€ì€í•˜ê²Œ ì‹ ë¢°ë„ê°€ ì˜¬ë¼ê°€ëŠ” ë‚ .", desc:"ì •ëˆëœ ëˆˆì¹ì€ ë§ë³´ë‹¤ ë¹ ë¦…ë‹ˆë‹¤.", tag:"ì´ë¯¸ì§€ ìƒìŠ¹ìš´" },
  { text:"ì˜¤ëŠ˜ì€ ë¶„ìœ„ê¸°ê°€ ì •ë¦¬ë˜ëŠ” ë‚ .", desc:"ì§€ì €ë¶„í•¨ì´ ì‚¬ë¼ì§€ë©´ ìì‹ ê°ì´ ì˜¬ë¼ê°€ìš”.", tag:"ìì‹ ê° ìš´" },
  { text:"ì˜¤ëŠ˜ì€ ì¸ìƒì´ ê°€ë²¼ì›Œì§€ëŠ” ë‚ .", desc:"ê³¼í•œ ëŠë‚Œ ëŒ€ì‹  ì„¸ë ¨ëœ ì ˆì œ.", tag:"íˆì¹ ì´ë¯¸ì§€ìš´" },
  { text:"ì˜¤ëŠ˜ì€ ìì—°ìŠ¤ëŸ¬ì›€ì´ ê°€ì¥ í° ë¬´ê¸°.", desc:"ë¬´ë¦¬í•˜ì§€ ì•Šì•„ë„ ë¹›ë‚˜ëŠ” í•˜ë£¨.", tag:"ì´ë¯¸ì§€ ìƒìŠ¹ìš´" },

  { text:"ì˜¤ëŠ˜ì€ ì •ëˆì´ ë³µì…ë‹ˆë‹¤.", desc:"ì •ë¦¬ëœ ë¼ì¸ì´ ìš´ì„ ëŒì–´ì˜¬ë ¤ìš”.", tag:"íˆì¹ ì´ë¯¸ì§€ìš´" },
  { text:"ì˜¤ëŠ˜ì€ ì€ê·¼íˆ ì¡´ì¬ê°ì´ ì˜¬ë¼ê°€ëŠ” ë‚ .", desc:"ì¡°ìš©íˆ ì¤‘ì‹¬ì— ì„œëŠ” í•˜ë£¨.", tag:"ìì‹ ê° ìš´" },
  { text:"ì˜¤ëŠ˜ì€ ë˜ë ·í•œ ì„ íƒì˜ ë‚ .", desc:"ì´ë¯¸ì§€ê°€ ê²°ì •ì„ ë•ìŠµë‹ˆë‹¤.", tag:"ì´ë¯¸ì§€ ìƒìŠ¹ìš´" },
  { text:"ëˆˆì¹ í•˜ë‚˜ë¡œ ë¶„ìœ„ê¸°ê°€ ë‹¬ë¼ì§€ëŠ” ë‚ .", desc:"ë””í…Œì¼ì€ ë°°ì‹ í•˜ì§€ ì•Šì•„ìš”.", tag:"íˆì¹ ì´ë¯¸ì§€ìš´" },
  { text:"ì˜¤ëŠ˜ì€ ê¹”ë”í•¨ì´ ìš´ì„ ë¶€ë¦…ë‹ˆë‹¤.", desc:"ë‹¨ì •í•œ ì¸ìƒì´ ê¸°íšŒë¥¼ ë§Œë“­ë‹ˆë‹¤.", tag:"ì´ë¯¸ì§€ ìƒìŠ¹ìš´" },
  { text:"ê´œíˆ ê¸°ë¶„ì´ ì¢‹ì•„ì§€ëŠ” í•˜ë£¨.", desc:"ìì‹ ê°ì€ ì‘ì€ ë³€í™”ì—ì„œ ì‹œì‘ë¼ìš”.", tag:"ìì‹ ê° ìš´" },
  { text:"ì˜¤ëŠ˜ì€ ì–¼êµ´ ì—ë„ˆì§€ê°€ ë§‘ì€ ë‚ .", desc:"ì •ë¦¬ëœ ì¸ìƒì€ ê¸°ìš´ì„ ëª¨ìë‹ˆë‹¤.", tag:"íˆì¹ ì´ë¯¸ì§€ìš´" },
  { text:"ì˜¤ëŠ˜ì€ ì‹œì„ ì´ ì˜¤ë˜ ë¨¸ë¬´ëŠ” ë‚ .", desc:"ë˜ë ·í•¨ì´ ì°¨ì´ë¥¼ ë§Œë“­ë‹ˆë‹¤.", tag:"ì´ë¯¸ì§€ ìƒìŠ¹ìš´" },
  { text:"ì˜¤ëŠ˜ì€ â€˜ì˜ ì–´ìš¸ë¦°ë‹¤â€™ëŠ” ë§ì„ ë“£ëŠ” ë‚ .", desc:"ìì—°ìŠ¤ëŸ¬ì›€ì´ ìµœê³ ì…ë‹ˆë‹¤.", tag:"ìì‹ ê° ìš´" },
  { text:"ì˜¤ëŠ˜ì€ ì´ë¯¸ì§€ ê· í˜•ì´ ë§ëŠ” ë‚ .", desc:"ë¼ì¸ì´ ì•ˆì •ë˜ë©´ ë§ˆìŒë„ ì•ˆì •ë¼ìš”.", tag:"íˆì¹ ì´ë¯¸ì§€ìš´" },

  { text:"ì˜¤ëŠ˜ì€ ì„¸ë ¨ë¨ì´ ë¬»ì–´ë‚˜ëŠ” ë‚ .", desc:"ì •ë¦¬ëœ ê²°ì´ ë¶„ìœ„ê¸°ë¥¼ ë§Œë“­ë‹ˆë‹¤.", tag:"ì´ë¯¸ì§€ ìƒìŠ¹ìš´" },
  { text:"ì˜¤ëŠ˜ì€ ì€ê·¼íˆ ê°•í•´ì§€ëŠ” í•˜ë£¨.", desc:"ë¶€ë“œëŸ½ì§€ë§Œ ì¤‘ì‹¬ ìˆëŠ” ì¸ìƒ.", tag:"ìì‹ ê° ìš´" },
  { text:"ì˜¤ëŠ˜ì€ ë¦¬ë””ìì¸ ìš´ ìƒìŠ¹.", desc:"ì§€ê¸ˆ ì†ëŒ€ë©´ ë§Œì¡±ë„ê°€ ë†’ì•„ìš”.", tag:"íˆì¹ ì´ë¯¸ì§€ìš´" },
  { text:"ì˜¤ëŠ˜ì€ ì¸ìƒì´ ê¸°ì–µì— ë‚¨ëŠ” ë‚ .", desc:"ë˜ë ·í•¨ì´ ì˜¤ë˜ ê°‘ë‹ˆë‹¤.", tag:"ì´ë¯¸ì§€ ìƒìŠ¹ìš´" },
  { text:"ì˜¤ëŠ˜ì€ ìì‹ ê°ì´ ìì—°ìŠ¤ëŸ½ê²Œ ì˜¬ë¼ê°€ëŠ” ë‚ .", desc:"ê±°ìš¸ì´ ê¸°ë¶„ì„ ì¢‹ê²Œ í•´ìš”.", tag:"ìì‹ ê° ìš´" },
  { text:"ì˜¤ëŠ˜ì€ ë””í…Œì¼ì´ ìŠ¹ë¶€ë¥¼ ë³´ëŠ” ë‚ .", desc:"ëˆˆì¹ ê²°ì´ ì´ë¯¸ì§€ë¥¼ ì™„ì„±í•©ë‹ˆë‹¤.", tag:"íˆì¹ ì´ë¯¸ì§€ìš´" },
  { text:"ì˜¤ëŠ˜ì€ ë‹¨ì •í•¨ì´ ë§¤ë ¥ìœ¼ë¡œ ë°”ë€ŒëŠ” ë‚ .", desc:"ì •ë¦¬ëœ ì¸ìƒì€ ì‹ ë¢°ë¥¼ ì¤˜ìš”.", tag:"ì´ë¯¸ì§€ ìƒìŠ¹ìš´" },
  { text:"ì˜¤ëŠ˜ì€ ë§ë³´ë‹¤ ë¶„ìœ„ê¸°ê°€ ë¨¼ì € ì „ë‹¬ë©ë‹ˆë‹¤.", desc:"ì¡°ìš©íˆ ì„¤ë“ë˜ëŠ” í•˜ë£¨.", tag:"ìì‹ ê° ìš´" },
  { text:"ì˜¤ëŠ˜ì€ ë³€í™”ê°€ ì˜ ë°›ëŠ” ë‚ .", desc:"ì´ë¯¸ì§€ ìˆ˜ì • íš¨ê³¼ê°€ ë†’ì€ í•˜ë£¨.", tag:"íˆì¹ ì´ë¯¸ì§€ìš´" },
  { text:"ì˜¤ëŠ˜ì€ ìì—°ìŠ¤ëŸ½ê²Œ ì˜ˆë»ì§€ëŠ” ë‚ .", desc:"ê³¼í•˜ì§€ ì•Šê²Œ, ê·¸ëŸ¬ë‚˜ í™•ì‹¤í•˜ê²Œ.", tag:"ì´ë¯¸ì§€ ìƒìŠ¹ìš´" },

  { text:"ì˜¤ëŠ˜ì€ ì¤‘ì‹¬ì´ ë˜ë ·í•´ì§€ëŠ” ë‚ .", desc:"ë¼ì¸ì´ ì •ë¦¬ë˜ë©´ ì¸ìƒë„ ë˜ë ·í•´ì ¸ìš”.", tag:"íˆì¹ ì´ë¯¸ì§€ìš´" },
  { text:"ì˜¤ëŠ˜ì€ ê´€ë¦¬ íš¨ê³¼ê°€ ì˜ ë“œëŸ¬ë‚˜ëŠ” ë‚ .", desc:"ë””í…Œì¼ì´ ë¹›ë‚˜ëŠ” í•˜ë£¨.", tag:"ì´ë¯¸ì§€ ìƒìŠ¹ìš´" },
  { text:"ì˜¤ëŠ˜ì€ ìŠ¤ìŠ¤ë¡œ ë§Œì¡±ë„ê°€ ë†’ì€ ë‚ .", desc:"ìì‹ ê°ì´ í‘œì •ì— ë‚˜íƒ€ë‚˜ìš”.", tag:"ìì‹ ê° ìš´" },
  { text:"ì˜¤ëŠ˜ì€ ë¶„ìœ„ê¸°ê°€ ì—…ê·¸ë ˆì´ë“œë˜ëŠ” ë‚ .", desc:"ì •ëˆì€ ìµœê³ ì˜ íˆ¬ìì…ë‹ˆë‹¤.", tag:"íˆì¹ ì´ë¯¸ì§€ìš´" },
  { text:"ì˜¤ëŠ˜ì€ ìì—°ìŠ¤ëŸ¬ìš´ ë³€í™”ê°€ ì–´ìš¸ë¦¬ëŠ” ë‚ .", desc:"ì€ì€í•¨ì´ ë§¤ë ¥ì…ë‹ˆë‹¤.", tag:"ì´ë¯¸ì§€ ìƒìŠ¹ìš´" },
  { text:"ì˜¤ëŠ˜ì€ ë‚˜ë¥¼ ë” ì¢‹ì•„í•˜ê²Œ ë˜ëŠ” ë‚ .", desc:"ê±°ìš¸ ì† í‘œì •ì´ ë¶€ë“œëŸ¬ì›Œì ¸ìš”.", tag:"ìì‹ ê° ìš´" },
  { text:"ì˜¤ëŠ˜ì€ ì´ë¯¸ì§€ ì—ë„ˆì§€ê°€ ëª¨ì´ëŠ” ë‚ .", desc:"í©ì–´ì§ ëŒ€ì‹  ì§‘ì¤‘.", tag:"íˆì¹ ì´ë¯¸ì§€ìš´" },
  { text:"ì˜¤ëŠ˜ì€ ì„¸ë ¨ëœ ì ˆì œê°€ ì–´ìš¸ë¦¬ëŠ” ë‚ .", desc:"ì •ë¦¬ëœ ë¼ì¸ì´ ë‹µì…ë‹ˆë‹¤.", tag:"ì´ë¯¸ì§€ ìƒìŠ¹ìš´" },
  { text:"ì˜¤ëŠ˜ì€ ê´œíˆ ë‹¹ë‹¹í•´ì§€ëŠ” í•˜ë£¨.", desc:"ì¸ìƒ ì •ë¦¬ëŠ” ë§ˆìŒ ì •ë¦¬.", tag:"ìì‹ ê° ìš´" },
  { text:"ì˜¤ëŠ˜ì€ â€˜ì—¬ê¸° ì˜¤ê¸¸ ì˜í–ˆë‹¤â€™ëŠ” ìƒê°ì´ ë“œëŠ” ë‚ .", desc:"ì„ íƒì´ ë§Œì¡±ìœ¼ë¡œ ì´ì–´ì§€ëŠ” í•˜ë£¨.", tag:"íˆì¹ ì´ë¯¸ì§€ìš´" }
];

    // ------------------ ì¿ í° ë“±ê¸‰/í™•ë¥  ì„¤ì • ------------------
    // âœ… ì—¬ê¸° ìˆ«ìë§Œ ë°”ê¾¸ë©´ í™•ë¥ /ìƒí’ˆ ë³€ê²½ ê°€ëŠ¥
    // weight í•©ì€ ì•„ë¬´ ê°’ì´ë‚˜ ê°€ëŠ¥(ìë™ ë¹„ìœ¨)
    const COUPON_TIERS = [
      { name:"1ë“±", prize:"10,000ì› í• ì¸", weight: 3 },
      { name:"2ë“±", prize:"5,000ì› í• ì¸",  weight: 12 },
      { name:"3ë“±", prize:"3,000ì› í• ì¸",  weight: 25 },
      { name:"ì•„ì‰½ìƒ", prize:"ë‹¤ìŒì— ë” í° í–‰ìš´ì´ ì˜¬ ê±°ì˜ˆìš” âœ¨", weight: 60 }
    ];

    // ------------------ ìœ í‹¸ ------------------
    const $ = (id) => document.getElementById(id);

    function pad2(n){ return String(n).padStart(2, "0"); }
    function todayKey(){
      const d = new Date();
      return `${d.getFullYear()}-${pad2(d.getMonth()+1)}-${pad2(d.getDate())}`;
    }
    function nowPretty(){
      const d = new Date();
      return `${d.getFullYear()}.${pad2(d.getMonth()+1)}.${pad2(d.getDate())} ${pad2(d.getHours())}:${pad2(d.getMinutes())}`;
    }

    function randIndex(max){
      if (window.crypto && crypto.getRandomValues) {
        const a = new Uint32Array(1);
        crypto.getRandomValues(a);
        return a[0] % max;
      }
      return Math.floor(Math.random() * max);
    }

    function randFloat01(){
      if (window.crypto && crypto.getRandomValues) {
        const a = new Uint32Array(1);
        crypto.getRandomValues(a);
        // 0 <= x < 1
        return a[0] / 4294967296;
      }
      return Math.random();
    }

    function pickOne(arr){ return arr[randIndex(arr.length)]; }

    function toast(msg){
      const t = $("toast");
      t.textContent = msg;
      t.classList.add("on");
      setTimeout(() => t.classList.remove("on"), 1200);
    }

    async function copyToClipboard(text){
      try{
        await navigator.clipboard.writeText(text);
        toast("ë³µì‚¬í–ˆì–´ìš”!");
      }catch(e){
        const ta = document.createElement("textarea");
        ta.value = text;
        ta.style.position = "fixed";
        ta.style.left = "-9999px";
        document.body.appendChild(ta);
        ta.select();
        document.execCommand("copy");
        document.body.removeChild(ta);
        toast("ë³µì‚¬í–ˆì–´ìš”!");
      }
    }

    // ------------------ ìš´ì„¸ ë¡œì§ ------------------
    const FORTUNE_STORAGE_KEY = "hssup_fortune_simple_v1";

    function loadOrMakeFortune(forceNew=false){
      const key = todayKey();

      if(!forceNew){
        try{
          const saved = JSON.parse(localStorage.getItem(FORTUNE_STORAGE_KEY) || "null");
          if(saved && saved.dateKey === key && saved.payload){
            return saved.payload;
          }
        }catch(e){}
      }

      const fortune = pickOne(FORTUNES);
      const payload = { fortune, dateKey:key, madeAt: Date.now() };

      try{
        localStorage.setItem(FORTUNE_STORAGE_KEY, JSON.stringify({ dateKey:key, payload }));
      }catch(e){}

      return payload;
    }

    function renderFortune(payload){
      const d = new Date();
      const dow = ["ì¼","ì›”","í™”","ìˆ˜","ëª©","ê¸ˆ","í† "][d.getDay()];
      $("dateLine").textContent = `${d.getFullYear()}ë…„ ${pad2(d.getMonth()+1)}ì›” ${pad2(d.getDate())}ì¼ (${dow})`;
      $("todayPill").textContent = `HSSUP LUCKY Â· ${todayKey()}`;

      $("fortuneTag").textContent = payload.fortune.tag || "í–‰ìš´ ë©”ì‹œì§€";
      $("fortuneText").textContent = payload.fortune.text;
      $("fortuneDesc").textContent = payload.fortune.desc || "";
    }

    // ------------------ ì¿ í° ë¡œì§ (í‰ìƒ 1íšŒ / ê¸°ê¸° ê¸°ì¤€) ------------------
    const COUPON_STORAGE_KEY = "hssup_coupon_once_v2";

    function generateCouponCode(){
      const chars = "ABCDEFGHJKLMNPQRSTUVWXYZ23456789"; // O0I1 ì œì™¸
      let s = "HSSUP-";
      for(let i=0;i<6;i++) s += chars[randIndex(chars.length)];
      return s;
    }

    function getCouponState(){
      try{ return JSON.parse(localStorage.getItem(COUPON_STORAGE_KEY) || "null"); }
      catch(e){ return null; }
    }
    function saveCouponState(state){
      try{ localStorage.setItem(COUPON_STORAGE_KEY, JSON.stringify(state)); }
      catch(e){}
    }

    function weightedPickTier(){
      const total = COUPON_TIERS.reduce((sum, t) => sum + (t.weight || 0), 0);
      if(total <= 0) return COUPON_TIERS[COUPON_TIERS.length - 1];

      let r = randFloat01() * total;
      for(const t of COUPON_TIERS){
        r -= (t.weight || 0);
        if(r < 0) return t;
      }
      return COUPON_TIERS[COUPON_TIERS.length - 1];
    }

    function openCouponModal(){
      const st = getCouponState();

      $("couponModal").classList.add("on");
      $("couponModal").setAttribute("aria-hidden", "false");

      if(st && st.used && st.code){
        $("couponBadge").textContent = `âœ… ${st.tierName || "ì¿ í°"}`;
        $("couponPrize").textContent = st.prize || "â€”";
        $("couponCode").textContent = st.code;
        $("couponMeta").textContent = `ë°œê¸‰ ${st.createdAt || ""} Â· (ì´ ê¸°ê¸°ì—ì„œ 1íšŒ)`;

        $("revealBtn").disabled = true;
        $("revealBtn").textContent = "âœ… ì´ë¯¸ ë½‘ìŒ";
      }else{
        $("couponBadge").textContent = "ğŸ² í‰ìƒ 1íšŒ ë½‘ê¸°";
        $("couponPrize").textContent = "ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ë°”ë¡œ ê²°ê³¼ê°€ ë‚˜ì™€ìš”";
        $("couponCode").textContent = "â€”";
        $("couponMeta").textContent = "ë½‘ê¸° í›„ì—ëŠ” ì´ ê¸°ê¸°ì—ì„œ ë‹¤ì‹œ ë½‘ì„ ìˆ˜ ì—†ì–´ìš”.";

        $("revealBtn").disabled = false;
        $("revealBtn").textContent = "ğŸ² ì§€ê¸ˆ ë½‘ê¸°";
      }
    }

    function closeCouponModal(){
      $("couponModal").classList.remove("on");
      $("couponModal").setAttribute("aria-hidden", "true");
    }

    function revealCouponOnce(){
      const st = getCouponState();
      if(st && st.used) return;

      const tier = weightedPickTier();
      const code = generateCouponCode();

      const newState = {
        used: true,
        code,
        tierName: tier.name,
        prize: tier.prize,
        createdAt: nowPretty()
      };
      saveCouponState(newState);

      $("couponBadge").textContent = `ğŸ‰ ${tier.name}`;
      $("couponPrize").textContent = tier.prize;
      $("couponCode").textContent = code;
      $("couponMeta").textContent = "ë§¤ì¥ì— ì´ ì½”ë“œë¥¼ ë³´ì—¬ì£¼ì„¸ìš” (ì´ ê¸°ê¸°ì—ì„œ 1íšŒ)";

      $("revealBtn").disabled = true;
      $("revealBtn").textContent = "âœ… ë°œê¸‰ ì™„ë£Œ";
      toast("ì¿ í° ê²°ê³¼ê°€ ë‚˜ì™”ì–´ìš”!");
    }

    // ------------------ init ------------------
    (function init(){
      const payload = loadOrMakeFortune(false);
      renderFortune(payload);

      $("newBtn").addEventListener("click", () => {
        const payload2 = loadOrMakeFortune(true);
        renderFortune(payload2);
        toast("ìƒˆ ìš´ì„¸ë¥¼ ë½‘ì•˜ì–´ìš”!");
      });

      $("couponBtn").addEventListener("click", openCouponModal);
      $("closeModalBtn").addEventListener("click", closeCouponModal);
      $("okBtn").addEventListener("click", closeCouponModal);

      $("couponModal").addEventListener("click", (e) => {
        if(e.target === $("couponModal")) closeCouponModal();
      });

      $("revealBtn").addEventListener("click", revealCouponOnce);

      $("copyCouponBtn").addEventListener("click", async () => {
        const st = getCouponState();
        if(st && st.code) await copyToClipboard(st.code);
        else toast("ë¨¼ì € ì¿ í°ì„ ë½‘ì•„ì£¼ì„¸ìš”!");
      });
    })();
  </script>
</body>
</html>
